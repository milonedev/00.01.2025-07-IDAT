<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <title>View User</title>
</head>

<body class="w-full h-[100svh] bg-[#f2f2f2] grid place-content-center">
    <div class="w-[90%] h-auto bg-white rounded-lg min-w-xs py-9 shadow-2xl px-5">
        <div class="w-full flex items-center justify-center uppercase font-semibold pb-9">
            <h2>Estado de la repacion</h2>
        </div>

        <div class="flex items-center justify-center w-full">
            <img src="https://images.pexels.com/photos/226474/pexels-photo-226474.jpeg"
                class="w-[240px] h-auto object-cover" alt="">
        </div>

        <div class=" py-4" id="section-information">
            <div class="flex flex-row items-center justify-start gap-10">
                <p class="flex flex-row justify-start w-full text-left">Autorizacion: </p>
                <div class="w-3 h-3 bg-green-400 rounded"></div>
            </div>
        </div>
    </div>
</body>
<script>
const data = JSON.parse(localStorage.getItem('current_repair'));
const section_information = document.getElementById('section-information');
section_information.innerHTML = ''; // limpiamos

// Función recursiva para renderizar cualquier propiedad
function renderProp(key, value) {
  const wrapper = document.createElement('div');
  wrapper.className = "py-2 flex flex-row items-center justify-start gap-4";

  const label = document.createElement('p');
  label.className = "w-40 text-left font-semibold";
  label.textContent = `${key}:`;
  wrapper.appendChild(label);

  if (typeof value === "object" && !Array.isArray(value) && value !== null) {
    // Caso objeto → renderizamos sus propiedades internas
    const subWrapper = document.createElement('div');
    subWrapper.className = "flex flex-col gap-1";
    Object.entries(value).forEach(([subKey, subValue]) => {
      subWrapper.appendChild(renderProp(subKey, subValue));
    });
    wrapper.appendChild(subWrapper);

  } else if (Array.isArray(value)) {
    // Caso array → lista
    const ul = document.createElement('ul');
    ul.className = "list-disc ml-6";
    value.forEach(item => {
      const li = document.createElement('li');
      li.textContent = item;
      ul.appendChild(li);
    });
    wrapper.appendChild(ul);

  } else if (typeof value === "boolean") {
    // Caso boolean → circulito verde o rojo
    const circle = document.createElement('div');
    circle.className = `w-3 h-3 rounded ${value ? "bg-green-400" : "bg-red-400"}`;
    wrapper.appendChild(circle);

  } else {
    // Caso string o número → texto simple
    const text = document.createElement('span');
    text.textContent = value;
    wrapper.appendChild(text);
  }

  return wrapper;
}

// Recorremos todas las propiedades del objeto principal
Object.entries(data).forEach(([key, value]) => {
  section_information.appendChild(renderProp(key, value));
});



</script>

</html>